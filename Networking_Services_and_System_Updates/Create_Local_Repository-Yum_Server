# ğŸ“€ Creating a Local Repository from DVD in Linux

## ğŸ“Œ What is a Repository?
- A repository is a storage location for software packages (RPMs) that you can install on your system.
- Normally, Linux systems fetch packages from online repositories via the internet.
- If **no internet** is available, you can use a **local repository**.
- Some companies use a **Red Hat Satellite Server** to host local repos, but if that's not available, you can create one yourself using a DVD/ISO.

---

## ğŸ›  Why Create a Local Repository?
- To install software without internet access.
- To avoid depending on external servers.
- Useful for secure or isolated environments.

---

## ğŸ›  Tool for Creating Local Repo
- **Command:** `createrepo_c` (CentOS 8+; must be installed manually).
- **Older CentOS (â‰¤7):** use `createrepo` (installed by default).
- Install:
  ```bash
  dnf install createrepo_c

ğŸ“‹ Steps to Create a Local Repository from DVD
1ï¸âƒ£ Prepare the Environment

    Create a snapshot of your VM (safety rollback point).

    Mount the DVD/ISO:

        Menu â†’ Devices â†’ Optical Drives â†’ Choose CentOS ISO.

        Auto-mount path: /run/media/<user>/CentOS-Stream-<version>

        Verify:

    df -h

        Look for /dev/sr0 or /dev/cdrom.

Manual mount (if needed):

    mount /dev/cdrom /mnt

2ï¸âƒ£ Create a Local Directory for Repo

mkdir /localrepo
ls -ltr /       # verify

3ï¸âƒ£ Copy RPM Packages from DVD to Local Repo

    Navigate to DVDâ€™s Packages directory:

cd /run/media/<user>/CentOS-Stream-<version>/AppStream/Packages

Check size & count:

du -sh .
ls -ltr | wc -l

Ensure enough disk space:

df -h

Copy all packages to local repo:

    cp /run/media/<user>/CentOS-Stream-<version>/AppStream/Packages/* /localrepo/

4ï¸âƒ£ Remove Existing Repo Configurations

rm -f /etc/yum.repos.d/*

âš  Caution: This will remove internet-based repos; ensure you have a snapshot.
5ï¸âƒ£ Create New Local Repo Configuration

    Create /etc/yum.repos.d/local.repo with:

    [CentOS9]
    name=CentOS9
    baseurl=file:///localrepo
    enabled=1
    gpgcheck=0

6ï¸âƒ£ Generate Repo Metadata

createrepo_c /localrepo

    Scans the folder & prepares it as a repository.

7ï¸âƒ£ Clean & Verify Repo

dnf clean all
dnf repolist all

    Should show:

    repo id      : CentOS9
    repo name    : CentOS9
    status       : enabled

8ï¸âƒ£ Test Installation from Local Repo

dnf install httpd

    Should install directly from /localrepo without internet.

ğŸ“Œ Summary

    DVD/ISO â†’ Copy Packages â†’ Configure Local Repo â†’ Generate Metadata â†’ Test

    No internet is needed after setup.

    Useful in secure environments or isolated networks.

    Always verify disk space before copying.