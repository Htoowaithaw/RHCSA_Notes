# ğŸ›¡ï¸ Linux Operating System Hardening Notes

This note summarizes key methods to secure (harden) a Linux system against attacks, misconfigurations, or vulnerabilities. These practices are commonly asked in interviews and are essential in production environments.

---

## ğŸ‘¤ 1. User Account Management
- **Avoid common usernames**: Donâ€™t use predictable names like `admin` or `oracle`. Use variations (e.g., `tadmin`, `oracle123`).
- **User IDs**: Default UIDs usually start from 1000. Best practice is to assign IDs starting from **10000+**.
- **Password Policies**:
  - Use `chage -l <username>` to check password expiry details.
  - Update password policies (expiry, warning days, inactivity).
  - Configure in `/etc/shadow`, `/etc/login.defs`, or via `chage`.
  - Example fields:
    - `MAX_DAYS`: Maximum password age.
    - `MIN_LEN`: Minimum password length (recommend at least 12â€“13).
- **PAM (Pluggable Authentication Modules)**:
  - Configured in `/etc/pam.d/` (e.g., `system-auth`).
  - Enforce stronger password complexity, retries, lockouts.

---

## ğŸ“¦ 2. Remove Unwanted Packages
- List all installed packages:
  ```bash
  rpm -qa

    Count installed packages:

rpm -qa | wc -l

Remove unnecessary packages:

    rpm -e <package_name>

âš ï¸ Be careful with dependencies â€” removing a package may break others.
ğŸ”§ 3. Stop Unused Services

    List services:

    systemctl -a

    Stop and disable services not required (e.g., nfs, cups if not used).

ğŸŒ 4. Check Listening Ports

    Show open ports:

    netstat -tunlp

    Common ports:

        22 â†’ SSH

        53 â†’ DNS

        25 â†’ SMTP

        111 â†’ RPC

    Disable/close ports for services not needed.

ğŸ”‘ 5. Secure SSH Configuration

File: /etc/ssh/sshd_config

    Change default port (e.g., from 22 â†’ 1022).

    Disable root login:

PermitRootLogin no

Enforce users to log in with personal accounts, then escalate with sudo. This ensures accountability and logging.

Restart SSH after changes:

    systemctl restart sshd

ğŸš§ 6. Enable Firewall

    Old versions (RHEL 6 and below): iptables

    New versions (RHEL 7+): firewalld

    GUI tool: firewall-config

    CLI tool:

    firewall-cmd --add-port=22/tcp --permanent
    firewall-cmd --reload

    Config files:

        iptables: /etc/sysconfig/iptables

        firewalld: /etc/firewalld/firewalld.conf

ğŸ” 7. SELinux (Security-Enhanced Linux)

    Check status:

    sestatus

    Config file: /etc/selinux/config

    Modes:

        Enforcing â†’ Enforces policies (recommended).

        Permissive â†’ Logs violations, doesnâ€™t block.

        Disabled â†’ Turns SELinux off.

    SELinux applies security contexts to users, processes, applications, and files.

    Useful commands:

        chcon â†’ Change file security context.

        semanage â†’ Manage SELinux policies.

        setsebool â†’ Set boolean values.

        newrole â†’ Change SELinux role.

ğŸ”€ 8. Change Service Port Numbers

    Change default ports of services (e.g., SSH from 22 â†’ 1022, DNS from 53 â†’ custom).

    Helps avoid common automated attacks targeting default ports.

ğŸ”„ 9. Keep System Updated

    Update security patches regularly:

    yum update

    Subscribe to vendor alerts (e.g., Red Hat, CentOS) for new patches and vulnerabilities.

    Prioritize security-related updates, not just all packages blindly.

ğŸ“ Key Takeaways

    Accounts â†’ Unique usernames, password policies, and PAM rules.

    Packages & Services â†’ Remove unnecessary ones.

    Ports & SSH â†’ Close unused ports, secure SSH.

    Firewall & SELinux â†’ Always enable, configure properly.

    Updates â†’ Keep system patched with latest security fixes.

ğŸ‘‰ Following these steps significantly reduces attack surface and makes Linux systems more resilient.