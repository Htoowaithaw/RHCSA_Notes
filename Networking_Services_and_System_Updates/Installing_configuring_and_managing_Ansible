# ğŸš€ Ansible â€“ Install, Configure & Manage in Linux

## ğŸ“Œ What is Ansible?
- **Definition (Wikipedia):**  
  Ansible is a suite of software tools that enable *infrastructure as code*. It supports software provisioning, configuration management, and application deployment.
- **Simplified:**  
  An automation tool that helps you:
  - Install software  
  - Configure systems  
  - Provision servers  

âš¡ **Key Benefits**:
- Automates repetitive IT tasks  
- Ensures consistent configurations  
- Saves time (especially with large server fleets)

---

## ğŸ§© Key Concepts
- **Agentless** â†’ No software needed on remote machines; only the Ansible control node requires installation.  
- **Playbooks** â†’ YAML files listing tasks for automation.  
- **YAML basics**:
  - Key-value pairs â†’ `key: value`  
  - Indentation â†’ defines hierarchy  
  - Dash (`-`) â†’ list items  
  - Comments â†’ start with `#`

### Example Playbook (Install Vim)
```yaml
---
- hosts: localhost
  become: yes
  tasks:
    - name: Install Vim text editor
      dnf:
        name: vim
        state: present

This playbook:

    Runs on localhost

    Uses sudo privileges (become: yes)

    Installs the package vim with DNF

ğŸ“œ Short History of Ansible

    2012 â†’ Created by Michael DeHaan

    2013 â†’ Released as open-source project

    2015 â†’ Acquired by Red Hat

    2021+ â†’ Red Hat Ansible Automation Platform 2 released

ğŸ› ï¸ Step 1 â€“ Install & Verify Ansible

Check if Ansible is installed:

rpm -qa | grep ansible

If not present, install:

dnf install ansible -y

Verify version:

ansible --version

âœ… You now have Ansible Core + Python3 (required runtime).
ğŸ› ï¸ Step 2 â€“ Configure Inventory File

Edit the inventory file:

vi /etc/ansible/hosts

Add localhost entry:

[webservers]
localhost ansible_connection=local

This means Ansible will manage localhost without SSH.
ğŸ› ï¸ Step 3 â€“ Test Connection

Ping the webservers group:

ansible -m ping webservers

Output:

localhost | SUCCESS => {
    "changed": false,
    "ping": "pong"
}

ğŸ› ï¸ Step 4 â€“ Setup SSH Keys for Remote Server

Generate key pair:

ssh-keygen -t rsa -b 2048

(Press Enter at all prompts)

Copy key to remote server:

ssh-copy-id iafzal@192.168.100.169

Test passwordless login:

ssh iafzal@192.168.100.169

ğŸ› ï¸ Step 5 â€“ Add Remote Server to Inventory

Edit /etc/ansible/hosts again:

[webservers]
localhost ansible_connection=local
centos_server ansible_host=192.168.100.169 ansible_user=iafzal

Test connection:

ansible -m ping webservers

âœ… Both localhost and centos_server should respond with pong.
ğŸ› ï¸ Step 6 â€“ Create Playbook to Install Apache

Create a new YAML file:

vi install_httpd.yaml

Paste:

---
- hosts: webservers
  become: yes
  tasks:
    - name: Install Apache HTTP Server
      dnf:
        name: httpd
        state: present

Run the playbook:

ansible-playbook install_httpd.yaml --ask-become-pass

ğŸ› ï¸ Step 7 â€“ Verify Apache Installation

Check if httpd installed:

rpm -qa | grep httpd

Start service:

systemctl enable --now httpd

Test locally:

curl http://localhost

Test remotely:

curl http://192.168.100.169

ğŸ¯ Summary

    Ansible = Automation Powerhouse

    Install Ansible on 1 control node, no agent needed on managed nodes

    Use YAML Playbooks to define tasks

    Manage 1 or 100+ servers with a single command

    Example: installed Apache on multiple machines with one playbook

ğŸ’¡ Practice Ideas

    Modify playbook to install nginx instead of Apache

    Add multiple remote servers into inventory and test parallel deployment

    Create a playbook to:

        Install a package

        Copy a file

        Restart a service

