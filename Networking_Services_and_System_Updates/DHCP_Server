ğŸ“˜ DHCP Server in Linux 
ğŸ”¹ What is DHCP?

DHCP = Dynamic Host Configuration Protocol

Automatically assigns IP addresses to devices on a network.

Without an IP address â†’ no network communication.

Used heavily in home networks (routers hand out IPs automatically).

In corporate networks, DHCP usually runs on routers or dedicated appliances (not Linux servers).

ğŸ‘‰ Static IP = Manually assigned, does not change.
ğŸ‘‰ DHCP IP = Dynamically assigned, may change when device restarts.

ğŸ”¹ How DHCP Works

A new device connects (phone, tablet, PC).

Device broadcasts â†’ â€œI need an IP!â€

DHCP Server replies with:

IP Address (from its pool)

Subnet Mask

Default Gateway

DNS Server(s)

Device accepts, and now it can communicate on the network.

ğŸ”¹ Where DHCP Runs

Home Networks â†’ Router/ISP modem provides DHCP service.

Corporate Networks â†’ Dedicated routers/switches handle DHCP.

Linux DHCP Server (lab only) â†’ Possible, but not common in production.

âš ï¸ To use a Linux DHCP server at home â†’ must disable DHCP on router and point devices to Linux server. This can disconnect your whole home network â†’ only test in labs.

ğŸ”¹ Steps to Configure DHCP Server on Linux
1ï¸âƒ£ Prepare the Server

Take a snapshot of VM (for rollback).

Assign a static IP to the server (cannot itself use DHCP).

Use nmtui (text-based GUI) or edit network config files.

Example: IP 192.168.15.1/24

2ï¸âƒ£ Install DHCP Server Package

RHEL/CentOS 7: yum install dhcp -y

RHEL/CentOS/Rocky 8/9: dnf install dhcp-server -y

3ï¸âƒ£ Configure DHCP Server

Main config file: /etc/dhcp/dhcpd.conf

If missing â†’ copy example:
cp /usr/share/doc/dhcp*/dhcpd.conf.example /etc/dhcp/dhcpd.conf

Example configuration:
default-lease-time 600;       # 10 minutes
max-lease-time 7200;          # 2 hours

subnet 192.168.15.0 netmask 255.255.255.0 {
    range 192.168.15.50 192.168.15.200;   # IP pool
    option routers 192.168.15.1;          # Default gateway
    option subnet-mask 255.255.255.0;
    option domain-name-servers 8.8.8.8;   # DNS server
}

4ï¸âƒ£ Start & Enable Service

systemctl start dhcpd

systemctl enable dhcpd

5ï¸âƒ£ Configure Firewall

Disable firewall (lab only): systemctl stop firewalld

Or allow DHCP through firewall:
firewall-cmd --add-service=dhcp --permanent
firewall-cmd --reload

6ï¸âƒ£ Router/Modem Reconfiguration âš ï¸

Disable DHCP on router.

Point router to forward DHCP requests to Linux server.

This step varies by ISP/router brand.

Without this, devices will still use the router as DHCP.

ğŸ”¹ Key Takeaways

DHCP automates IP assignment â†’ saves manual effort.

Home use â†’ handled by router.

Corporate â†’ usually not Linux adminâ€™s job, but good to know conceptually.

Linux DHCP Server â†’ only practical in lab environments.

Always assign static IP to your DHCP server itself.

Modify dhcpd.conf to define IP ranges, gateway, DNS, lease time.

âœ… With this setup â†’ any client on the same network will automatically get an IP from your Linux DHCP server.